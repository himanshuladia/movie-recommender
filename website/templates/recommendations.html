{% extends "layout.html" %}
{% block content %}
<div style="margin-top: 20px; width: 100%;"class="container-fluid">
  <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="pills-useruser-tab" data-toggle="pill" href="#pills-useruser" role="tab" aria-controls="pills-useruser" aria-selected="true">User User Collaborative Filtering</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="pills-itemitem-tab" data-toggle="pill" href="#pills-itemitem" role="tab" aria-controls="pills-itemitem" aria-selected="false">Item Item Collaborative Filtering</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="pills-matrixfactorization-tab" data-toggle="pill" href="#pills-matrixfactorization" role="tab" aria-controls="pills-matrixfactorization" aria-selected="false">Matrix Factorization Collaborative Filtering</a>
    </li>
  </ul>
  <div class="tab-content" id="pills-tabContent">
    <div class="tab-pane fade show active" id="pills-useruser" role="tabpanel" aria-labelledby="pills-useruser-tab">
      <div class="row">
      {% for movie in movies %}
        {% if movie['imdbId'] in useruserIds %}
            <div class="col-sm-2">
              <div class="card" style="width: 18rem;">
                <img src="{{ movie['thumbnail'] }}" class="card-img-top" alt="{{ movie['title'] }} - Thumbnail">
                <div class="card-body">
                  <h5 class="card-title">{{ movie['title'] }} - ({{ movie['releaseYear'] }})</h5>
                  <h6 class="card-subtitle mb-2 text-muted">{{ movie['duration'] }}</h6>
                  <h6 class="card-subtitle mb-2 text-muted">IMDb Rating - {{ movie['imdbRating'] }}</h6>
                  <p class="card-text">{{ movie['synopsis'][:100] }}...</p>
                </div>
              </div>
            </div>
        {% endif %}
      {% endfor %}
      </div>
    </div>
    <div class="tab-pane fade" id="pills-itemitem" role="tabpanel" aria-labelledby="pills-itemitem-tab">
      <div class="row">
      {% if movies.rewind() == None %}
      {% endif %}
      {% for movie in movies %}
        {% if movie['imdbId'] in itemitemIds %}
            <div class="col-sm-2">
              <div class="card" style="width: 18rem;">
                <img src="{{ movie['thumbnail'] }}" class="card-img-top" alt="{{ movie['title'] }} - Thumbnail">
                <div class="card-body">
                  <h5 class="card-title">{{ movie['title'] }} - ({{ movie['releaseYear'] }})</h5>
                  <h6 class="card-subtitle mb-2 text-muted">{{ movie['duration'] }}</h6>
                  <h6 class="card-subtitle mb-2 text-muted">IMDb Rating - {{ movie['imdbRating'] }}</h6>
                  <p class="card-text">{{ movie['synopsis'][:100] }}...</p>
                </div>
              </div>
            </div>
        {% endif %}
      {% endfor %}
      </div>
    </div>
    <div class="tab-pane fade" id="pills-matrixfactorization" role="tabpanel" aria-labelledby="pills-matrixfactorization-tab">
      <div class="row">
      {% if movies.rewind() == None %}
      {% endif %}
      {% for movie in movies %}
        {% if movie['imdbId'] in matrixfactorizationIds %}
            <div class="col-sm-2">
              <div class="card" style="width: 18rem;">
                <img src="{{ movie['thumbnail'] }}" class="card-img-top" alt="{{ movie['title'] }} - Thumbnail">
                <div class="card-body">
                  <h5 class="card-title">{{ movie['title'] }} - ({{ movie['releaseYear'] }})</h5>
                  <h6 class="card-subtitle mb-2 text-muted">{{ movie['duration'] }}</h6>
                  <h6 class="card-subtitle mb-2 text-muted">IMDb Rating - {{ movie['imdbRating'] }}</h6>
                  <p class="card-text">{{ movie['synopsis'][:100] }}...</p>
                </div>
              </div>
            </div>
        {% endif %}
      {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock %}